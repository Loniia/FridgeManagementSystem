@model BusinessInfoViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    ViewData["Title"] = "Manage Business Information";
}

<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Manage Business Information</h1>
        <a asp-action="Index" class="btn btn-outline-secondary">Back to Overview</a>
    </div>

    <!-- Success/Error Messages -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <form asp-action="Manage" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()

        <div class="row">
            <div class="col-md-8">
                <!-- Basic Company Information -->
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Basic Company Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="CompanyName" class="form-label"></label>
                                    <input asp-for="CompanyName" class="form-control" />
                                    <span asp-validation-for="CompanyName" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="YearFounded" class="form-label"></label>
                                    <input asp-for="YearFounded" class="form-control" />
                                    <span asp-validation-for="YearFounded" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="Industry" class="form-label"></label>
                                    <select asp-for="Industry" asp-items="ViewBag.Industries" class="form-select">
                                        <option value="">Select Industry</option>
                                    </select>
                                    <span asp-validation-for="Industry" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="BusinessType" class="form-label"></label>
                                    <select asp-for="BusinessType" asp-items="ViewBag.BusinessTypes" class="form-select">
                                        <option value="">Select Business Type</option>
                                    </select>
                                    <span asp-validation-for="BusinessType" class="text-danger"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Company Description -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Company Description</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label asp-for="CompanyDescription" class="form-label">About Us / Company Description</label>
                            <textarea asp-for="CompanyDescription" class="form-control" rows="4" placeholder="Describe your company..."></textarea>
                            <span asp-validation-for="CompanyDescription" class="text-danger"></span>
                        </div>

                        <div class="form-group mb-3">
                            <label asp-for="MissionStatement" class="form-label">Mission Statement</label>
                            <textarea asp-for="MissionStatement" class="form-control" rows="3" placeholder="Your company's mission..."></textarea>
                            <span asp-validation-for="MissionStatement" class="text-danger"></span>
                        </div>

                        <div class="form-group mb-3">
                            <label asp-for="ServicesDescription" class="form-label">What We Do / Services</label>
                            <textarea asp-for="ServicesDescription" class="form-control" rows="4" placeholder="Describe your services and what you do..."></textarea>
                            <span asp-validation-for="ServicesDescription" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="CoreValues" class="form-label">Core Values</label>
                            <textarea asp-for="CoreValues" class="form-control" rows="3" placeholder="Your company's core values..."></textarea>
                            <span asp-validation-for="CoreValues" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Contact Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label asp-for="Address" class="form-label"></label>
                            <textarea asp-for="Address" class="form-control" rows="2"></textarea>
                            <span asp-validation-for="Address" class="text-danger"></span>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="Phone" class="form-label"></label>
                                    <input asp-for="Phone" class="form-control" />
                                    <span asp-validation-for="Phone" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label asp-for="Email" class="form-label"></label>
                                    <input asp-for="Email" class="form-control" />
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label asp-for="Website" class="form-label"></label>
                            <input asp-for="Website" class="form-control" placeholder="https://..." />
                            <span asp-validation-for="Website" class="text-danger"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <!-- Visual Identity -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Visual Identity</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label asp-for="LogoFile" class="form-label">Upload Logo</label>
                            <input asp-for="LogoFile" type="file" class="form-control" accept="image/*" />
                            <span asp-validation-for="LogoFile" class="text-danger"></span>
                            @if (!string.IsNullOrEmpty(Model.LogoUrl))
                            {
                                <div class="mt-2">
                                    <small>Current Logo:</small><br>
                                    <img src="@Model.LogoUrl" alt="Current Logo" class="img-thumbnail mt-1" style="max-height: 80px;">
                                </div>
                            }
                        </div>

                        <div class="form-group">
                            <label asp-for="BannerFile" class="form-label">Upload Banner Image</label>
                            <input asp-for="BannerFile" type="file" class="form-control" accept="image/*" />
                            <span asp-validation-for="BannerFile" class="text-danger"></span>
                            @if (!string.IsNullOrEmpty(Model.BannerImageUrl))
                            {
                                <div class="mt-2">
                                    <small>Current Banner:</small><br>
                                    <img src="@Model.BannerImageUrl" alt="Current Banner" class="img-thumbnail mt-1" style="max-height: 80px;">
                                </div>
                            }
                        </div>
                    </div>
                </div>

                <!-- Registration Details -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Registration Details</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label asp-for="RegistrationNumber" class="form-label">Registration Number</label>
                            <input asp-for="RegistrationNumber" class="form-control" />
                            <span asp-validation-for="RegistrationNumber" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="TaxNumber" class="form-label">Tax Number</label>
                            <input asp-for="TaxNumber" class="form-control" />
                            <span asp-validation-for="TaxNumber" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Social Media -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Social Media</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label asp-for="FacebookUrl" class="form-label">Facebook URL</label>
                            <input asp-for="FacebookUrl" class="form-control" placeholder="https://..." />
                            <span asp-validation-for="FacebookUrl" class="text-danger"></span>
                        </div>

                        <div class="form-group mb-3">
                            <label asp-for="LinkedInUrl" class="form-label">LinkedIn URL</label>
                            <input asp-for="LinkedInUrl" class="form-control" placeholder="https://..." />
                            <span asp-validation-for="LinkedInUrl" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="TwitterUrl" class="form-label">Twitter URL</label>
                            <input asp-for="TwitterUrl" class="form-control" placeholder="https://..." />
                            <span asp-validation-for="TwitterUrl" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="card">
                    <div class="card-body">
                        <button type="submit" class="btn btn-success w-100 mb-2">Save Business Information</button>
                        <a asp-action="Index" class="btn btn-outline-secondary w-100">Cancel</a>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

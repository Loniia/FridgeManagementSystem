@model IEnumerable<FridgeManagementSystem.Models.Employee>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewData["Title"] = "Manage Employees";
    var locations = ViewBag.Locations as List<SelectListItem> ?? new List<SelectListItem>();
}

<style>
    /* Custom Table Styling */
    .table-container {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        overflow: hidden;
    }

    .table {
        margin-bottom: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* ... your existing styles remain unchanged ... */

    /* Custom Go Back Button Styling */
    .btn-go-back {
        background: linear-gradient(145deg, #4a90e2, #357ABD);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-weight: 600;
        box-shadow: 0 4px 6px rgba(0, 123, 255, 0.4);
        transition: all 0.3s ease;
    }

        .btn-go-back:hover {
            background: linear-gradient(145deg, #357ABD, #4a90e2);
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 123, 255, 0.5);
            color: white;
        }
</style>

<h2 class="mb-4">Manage Employees</h2>

<div class="d-flex justify-content-between align-items-center mb-3">
    <!-- Left side: Add New Employee -->
    <a href="/Administrator/ManageEmployee/Create" class="btn btn-primary">
        <i class="bi bi-person-plus-fill"></i> Add New Employee
    </a>

    <!-- Right side: Go Back to Dashboard -->
    <a asp-controller="ManageEmployee" asp-action="Dashboard" class="btn btn-go-back">
        ← Go Back to Dashboard
    </a>
</div>

<!-- Employees Table - Always Visible -->
<div class="table-container">
    <table class="table table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Location</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                @foreach (var emp in Model)
                {
                    <tr>
                        <td data-label="Name">
                            <strong>@emp.FullName</strong>
                        </td>
                        <td data-label="Email">@emp.Email</td>
                        <td data-label="Role">
                            <span class="badge bg-info text-dark">@emp.Role</span>
                        </td>
                        <td data-label="Location">
                            @emp.Location?.Address
                        </td>

                        <td data-label="Status">
                            @if (emp.Status == "Active")
                            {
                                <span class="status-indicator status-active"></span>
                                <span class="badge bg-success">Active</span>
                            }
                            else
                            {
                                <span class="status-indicator status-inactive"></span>
                                <span class="badge bg-secondary">Inactive</span>
                            }
                        </td>
                        <td data-label="Actions">
                            <a asp-action="Edit" asp-controller="ManageEmployee" asp-area="Administrator" asp-route-id="@emp.EmployeeID" class="btn btn-sm btn-info">
                                <i class="bi bi-pencil me-1"></i>Edit
                            </a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="6">
                        <div class="empty-state">
                            <i class="bi bi-people"></i>
                            <h5>No Employees Found</h5>
                            <p>Get started by adding your first employee to the system</p>
                            <a asp-action="Create" asp-controller="ManageEmployee" asp-area="Administrator" class="btn btn-primary">
                                <i class="bi bi-person-plus me-2"></i>Add Your First Employee
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const tableContainer = document.querySelector('.table-container');
        if (tableContainer) {
            tableContainer.style.transition = 'all 0.3s ease';
        }

        const buttons = document.querySelectorAll('.btn');
        buttons.forEach(btn => {
            btn.addEventListener('mouseenter', function () {
                this.style.transform = 'translateY(-2px)';
            });

            btn.addEventListener('mouseleave', function () {
                this.style.transform = 'translateY(0)';
            });
        });
    });
</script>

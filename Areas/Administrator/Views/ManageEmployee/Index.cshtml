@model IEnumerable<FridgeManagementSystem.Models.Employee>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Manage Employees";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
    body {
        background: linear-gradient(135deg, #d7e1ec, #f5f7fa);
        font-family: "Poppins", sans-serif;
    }

    h2 {
        font-weight: 700;
        color: #1f3a60;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
    }

    .btn-primary, .btn-go-back {
        border-radius: 12px;
        font-weight: 600;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    }

    .btn-primary {
        background: linear-gradient(145deg, #4a90e2, #357ABD);
        border: none;
    }

        .btn-primary:hover {
            background: linear-gradient(145deg, #357ABD, #4a90e2);
            transform: translateY(-3px);
            box-shadow: 0 6px 14px rgba(0,0,0,0.25);
        }

    .btn-go-back {
        background: linear-gradient(145deg, #00b09b, #96c93d);
        color: white;
        border: none;
    }

        .btn-go-back:hover {
            background: linear-gradient(145deg, #96c93d, #00b09b);
            transform: translateY(-3px);
        }

    .table-container {
        background: white;
        border-radius: 15px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        overflow: hidden;
        transition: transform 0.3s ease;
    }

        .table-container:hover {
            transform: translateY(-5px);
        }

    .table th {
        background-color: #eef3f8;
        font-weight: 600;
        color: #34495e;
    }

    .table td {
        vertical-align: middle;
    }

    .empty-state {
        text-align: center;
        padding: 50px 0;
        color: #666;
    }

        .empty-state i {
            font-size: 3rem;
            color: #4a90e2;
        }

        .empty-state h5 {
            margin-top: 15px;
            font-weight: 600;
            color: #1f3a60;
        }

        .empty-state p {
            font-size: 15px;
            margin-bottom: 20px;
            color: #777;
        }

    .status-indicator {
        height: 10px;
        width: 10px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 6px;
    }

    .status-active {
        background-color: #28a745;
        box-shadow: 0 0 8px #28a745;
    }

    .status-inactive {
        background-color: #6c757d;
        box-shadow: 0 0 8px #6c757d;
    }

    .table td .badge {
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
</style>

<div class="container mt-4">
    <h2 class="mb-4"><i class="bi bi-people-fill me-2"></i>Manage Employees</h2>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="/Administrator/ManageEmployee/Create" class="btn btn-primary">
            <i class="bi bi-person-plus-fill"></i> Add New Employee
        </a>

        <a asp-controller="ManageEmployee" asp-action="Dashboard" class="btn btn-go-back">
            ← Go Back to Dashboard
        </a>
    </div>

    <div class="table-container">
        <table class="table table-bordered table-hover mb-0">
            <thead class="table-light">
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Location</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null && Model.Any())
                {
                    @foreach (var emp in Model)
                    {
                        <tr>
                            <td><strong>@emp.FullName</strong></td>
                            <td>@emp.Email</td>
                            <td><span class="badge bg-info text-dark">@emp.Role</span></td>
                            <td>@emp.Location?.Address</td>
                            <td>
                                @if (emp.Status == "Active")
                                {
                                    <span class="status-indicator status-active"></span>
                                    <span class="badge bg-success">Active</span>
                                }
                                else
                                {
                                    <span class="status-indicator status-inactive"></span>
                                    <span class="badge bg-secondary">Inactive</span>
                                }
                            </td>
                            <td>
                                <a asp-action="Edit" asp-controller="ManageEmployee" asp-area="Administrator" asp-route-id="@emp.EmployeeID" class="btn btn-sm btn-info">
                                    <i class="bi bi-pencil"></i> Edit
                                </a>
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="6">
                            <div class="empty-state">
                                <i class="bi bi-people"></i>
                                <h5>No Employees Found</h5>
                                <p>Get started by adding your first employee to the system</p>
                                <a asp-action="Create" asp-controller="ManageEmployee" asp-area="Administrator" class="btn btn-primary">
                                    <i class="bi bi-person-plus"></i> Add Your First Employee
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const btns = document.querySelectorAll('.btn');
        btns.forEach(b => {
            b.addEventListener('mouseenter', () => b.style.transform = 'translateY(-2px)');
            b.addEventListener('mouseleave', () => b.style.transform = 'translateY(0)');
        });
    });
</script>


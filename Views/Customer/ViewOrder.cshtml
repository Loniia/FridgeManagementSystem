@model FridgeManagementSystem.Models.Order

@{
    ViewData["Title"] = $"Order #{Model.OrderId}";
}

<!-- Dashboard / Navigation Buttons -->
<div class="mb-4 d-flex align-items-center">
    <a asp-action="OrderHistory" class="btn btn-primary btn-3d me-3">
        <i class="fas fa-arrow-left me-2"></i>Back to Orders
    </a>
    <button class="btn btn-success btn-3d ms-auto" onclick="window.print()">
        <i class="fas fa-print me-1"></i>Print Order
    </button>
</div>

<h2 class="mb-3">Order #@Model.OrderId</h2>
<p><strong>Date:</strong> @Model.OrderDate.ToString("dd/MM/yyyy HH:mm")</p>

<table class="table table-hover shadow-sm rounded">
    <thead class="table-header-gradient text-white">
        <tr>
            <th>Item</th>
            <th>Qty</th>
            <th>Price</th>
            <th>Subtotal</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.OrderItems)
        {
            <tr>
                <td>@($"{item.Fridge.Brand} {item.Fridge.Model}")</td>
                <td>@item.Quantity</td>
                <td>@($"R{item.Price:0.00}")</td>
                <td>@($"R{item.Price * item.Quantity:0.00}")</td>
            </tr>
        }
    </tbody>
</table>

<p class="mt-3"><strong>Total:</strong> @($"R{Model.TotalAmount:0.00}")</p>

<!-- CSS Styling -->
<style>
    /* 3D Buttons */
    .btn-3d {
        border: none;
        border-radius: 10px;
        font-weight: 600;
        box-shadow: 0 5px 0 rgba(0,0,0,0.2), 0 5px 15px rgba(0,0,0,0.1);
        transition: all 0.2s ease;
    }

    .btn-primary.btn-3d {
        background: linear-gradient(145deg, #4e73df, #224abe);
        color: #fff;
    }

    .btn-success.btn-3d {
        background: linear-gradient(145deg, #1cc88a, #17a673);
        color: #fff;
    }

    .btn-3d:hover {
        transform: translateY(2px);
        box-shadow: 0 3px 0 rgba(0,0,0,0.2), 0 8px 15px rgba(0,0,0,0.15);
        text-decoration: none;
    }

    /* Table Styling */
    .table-hover tbody tr:hover {
        background-color: rgba(78, 115, 223, 0.08);
        cursor: pointer;
    }

    .table-header-gradient {
        background: linear-gradient(90deg, #4e73df, #224abe);
    }

    .table {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
    }

    .shadow-sm {
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    /* Total styling */
    p strong {
        font-size: 1.1rem;
        color: #224abe;
    }

    @@media print {
        .btn, .d-flex { display: none; } /* Hide buttons in print */
    }
</style>
